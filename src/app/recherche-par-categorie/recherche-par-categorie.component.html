<div class="container">

    <div class="col-sm-4 col-md-4 col-lg-4 mb-4">
        <label>Categories </label>
        <select class="form-control form-control-lg" id="idCat" name="idCat"
        [(ngModel)]="IdCategorie" (change)="onChange()">
        @for(cat of categories;track cat.idCat)
        {
        <option value="{{cat.idCat}}"> {{cat.nomCat}} {{cat.descriptionCat}} </option>
        }
        </select>
        </div>
        
    <div class="card shadow mb-4">
    <div class="card-body">
    <table class="table table-striped">
        <!-- cacher les indexs du tableau si il ya pas des donnés -->
        <!-- @if (produits.length!=0) { -->

            <tr><th>N°</th> <th>Id</th><th>Nom</th> <th>Prix</th> <th>Date Création</th>
                <th> Noms Catégorie</th><th> Description Catégorie</th>
                <!-- <th>Modification</th><th>Suppression</th> -->
            </tr>
        <!-- } -->
     <!-- parcourir  les donnes  du tableau si il ya pas des donnés -->
    @for (produit of produits; track produit.idProduit;  let index =$index; let nbr=$count ;
let first = $first; let last=$last)
    {

        

    <tbody >
    <tr >
    <td>{{index+1}}</td>
    <td>{{produit.idProduit}}</td>
    <td>{{produit.nomProduit}}</td>
    <td>{{produit.prixProduit}}</td>
    <td>{{produit.dateCreation | date:'dd/MM/yyyy'}}</td>
    <td>{{produit.categorie?.nomCat}}</td>
    <td>{{produit.categorie?.descriptionCat}}</td>
    <!-- <td><a class="btn btn-success" [routerLink]="['/updateProduit',produit.idProduit]">Modifier</a></td>
    <td><a class="btn btn-danger" (click)="supprimerProduit(produit)">Supprimer</a></td> -->
   
    
    </tr>
    </tbody>}
    <!-- @if(last)
        { <h1>Nombre d'enregistrements : {{nbr}}</h1>}
    } -->

     <!-- cacher les cellules du tableau si il ya pas des donnés -->
    @empty {
        <h1>Aucun produit trouvé !</h1>
        }
        

    </table>
    </div>
    </div>
    </div>